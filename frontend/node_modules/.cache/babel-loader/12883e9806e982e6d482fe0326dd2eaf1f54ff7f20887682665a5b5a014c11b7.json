{"ast":null,"code":"import React,{useEffect,useState}from'react';import'../../styles/freelancer/freelancer.css';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Freelancer=()=>{const[isDataUpdateOpen,setIsDataUpdateOpen]=useState(false);const navigate=useNavigate();const[freelancerData,setFreelancerData]=useState();const[skills,setSkills]=useState([]);const[description,setDescription]=useState('');const[freelancerId,setFreelancerId]=useState('');const[updateSkills,setUpdateSkills]=useState('');const[updateDescription,setUpdateDescription]=useState('');useEffect(()=>{fetchUserData(localStorage.getItem('userId'));},[]);const fetchUserData=async id=>{axios.get(`http://localhost:6001/fetch-freelancer/${id}`).then(response=>{setFreelancerData(response.data);if(response.data){setFreelancerId(response.data._id);setSkills(response.data.skills);setDescription(response.data.description);setUpdateSkills(response.data.skills);setUpdateDescription(response.data.description);}});};const updateUserData=async()=>{axios.post(`http://localhost:6001/update-freelancer`,{freelancerId,updateSkills:updateSkills,description:updateDescription}).then(response=>{fetchUserData();alert(\"User data updated\");});};const[applicationsCount,setApplicationsCount]=useState([]);useEffect(()=>{fetchApplications();},[]);const fetchApplications=async()=>{await axios.get(\"http://localhost:6001/fetch-applications\").then(response=>{setApplicationsCount(response.data.filter(application=>application.freelancerId===localStorage.getItem('userId')));console.log(response.data);}).catch(err=>{console.log(err);});};return/*#__PURE__*/_jsx(_Fragment,{children:freelancerData?/*#__PURE__*/_jsxs(\"div\",{className:\"freelancer-home\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"home-cards\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"home-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Current projects\"}),/*#__PURE__*/_jsx(\"p\",{children:freelancerData.currentProjects.length}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/my-projects'),children:\"View projects\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"home-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Completed projects\"}),/*#__PURE__*/_jsx(\"p\",{children:freelancerData.completedProjects.length}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/my-projects'),children:\"View projects\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"home-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Applications\"}),/*#__PURE__*/_jsx(\"p\",{children:applicationsCount.length}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/myApplications'),children:\"View Applications\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"home-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Funds\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Available:  \\u20B9 \",freelancerData.funds]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"freelancer-details\",children:!isDataUpdateOpen?/*#__PURE__*/_jsxs(\"div\",{className:\"freelancer-details-data\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"My Skills\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"skills\",children:[skills.map(skill=>/*#__PURE__*/_jsx(\"h5\",{className:\"skill\",children:skill},skill)),skills.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No skills available\"}):\"\"]})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{children:description}),description===''?/*#__PURE__*/_jsx(\"p\",{children:\"please add your description\"}):\"\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-success\",onClick:()=>setIsDataUpdateOpen(true),children:\"Update\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"freelancer-details-update\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mySkills\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"My Skills\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"mySkills\",placeholder:\"Enter skills\",value:updateSkills,onChange:e=>setUpdateSkills(e.target.value)})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description-textarea\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Description\"})}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"description-textarea\",placeholder:\"Enter your description\",value:updateDescription,onChange:e=>setUpdateDescription(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-success mt-3\",onClick:updateUserData,children:\"Update\"})]})})]}):\"\"});};export default Freelancer;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Freelancer","isDataUpdateOpen","setIsDataUpdateOpen","navigate","freelancerData","setFreelancerData","skills","setSkills","description","setDescription","freelancerId","setFreelancerId","updateSkills","setUpdateSkills","updateDescription","setUpdateDescription","fetchUserData","localStorage","getItem","id","get","then","response","data","_id","updateUserData","post","alert","applicationsCount","setApplicationsCount","fetchApplications","filter","application","console","log","catch","err","children","className","currentProjects","length","onClick","completedProjects","funds","map","skill","htmlFor","type","placeholder","value","onChange","e","target"],"sources":["C:/Users/eswar/Music/NM-FREELANCING APP/frontend/src/pages/freelancer/Freelancer.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport '../../styles/freelancer/freelancer.css'\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\n\nconst Freelancer = () => {\n\n  const [isDataUpdateOpen, setIsDataUpdateOpen] = useState(false);\n\n  const navigate = useNavigate();\n\n  const [freelancerData, setFreelancerData] = useState();\n\n  const [skills, setSkills] = useState([]);\n\n  const [description, setDescription] = useState('');\n\n  const [freelancerId, setFreelancerId] = useState('');\n\n  const [updateSkills, setUpdateSkills] = useState('');\n\n  const [updateDescription, setUpdateDescription] = useState('');\n\n  useEffect(()=>{\n    fetchUserData(localStorage.getItem('userId'));\n  },[])\n\n  const fetchUserData = async(id) =>{\n      axios.get(`http://localhost:6001/fetch-freelancer/${id}`).then(\n        (response)=>{\n          setFreelancerData(response.data);\n          if(response.data){\n            setFreelancerId(response.data._id);\n            setSkills(response.data.skills);\n            setDescription(response.data.description);\n            setUpdateSkills(response.data.skills);\n            setUpdateDescription(response.data.description);\n          }\n        }\n      )\n  }\n\n  const updateUserData = async() =>{\n    axios.post(`http://localhost:6001/update-freelancer`, {freelancerId, updateSkills: updateSkills, description: updateDescription}).then(\n        (response)=>{\n          fetchUserData();\n          alert(\"User data updated\")\n        }\n      )\n  }\n\n\n  const [applicationsCount, setApplicationsCount] = useState([]);\n\n  useEffect(()=>{\n    fetchApplications();\n  },[])\n\n  const fetchApplications = async() =>{\n    await axios.get(\"http://localhost:6001/fetch-applications\").then(\n      (response)=>{\n        setApplicationsCount(response.data.filter((application)=> application.freelancerId === localStorage.getItem('userId')));\n        console.log(response.data);\n      }\n    ).catch((err)=>{\n      console.log(err);\n    })\n  }\n\n\n  return (\n    <>\n      {freelancerData ? \n      \n          <div className=\"freelancer-home\">\n\n            \n              <div className=\"home-cards\">\n\n                <div className=\"home-card\">\n                    <h4>Current projects</h4>\n                    <p>{freelancerData.currentProjects.length}</p>\n                    <button onClick={()=> navigate('/my-projects')} >View projects</button>\n                </div>\n\n                <div className=\"home-card\">\n                    <h4>Completed projects</h4>\n                    <p>{freelancerData.completedProjects.length}</p>\n                    <button onClick={()=> navigate('/my-projects')}>View projects</button>\n                </div>\n\n                <div className=\"home-card\">\n                    <h4>Applications</h4>\n                    <p>{applicationsCount.length}</p>\n                    <button onClick={()=> navigate('/myApplications')}>View Applications</button>\n                </div>\n\n                <div className=\"home-card\">\n                    <h4>Funds</h4>\n                    <p>Available:  &#8377; {freelancerData.funds}</p>\n                    {/* <button>Withdraw</button> */}\n                </div>\n\n              </div>\n\n\n              <div className=\"freelancer-details\">\n\n                { !isDataUpdateOpen ?\n\n                        <div className=\"freelancer-details-data\">\n\n                            <span>\n                              <h4>My Skills</h4>\n                              <div className=\"skills\">\n                              {skills.map((skill)=>(\n                                <h5 className='skill' key={skill}>{skill}</h5>\n                              ))}\n                              {skills.length === 0 ?\n                                <p>No skills available</p>\n                              :\n                              \"\"}\n                              </div>\n                            </span>\n\n                            <span>\n                              <h4>Description</h4>\n                              <p>{description}</p>\n                              {description === '' ?\n                                <p>please add your description</p>\n                              :\n                              \"\"}\n                            </span>\n\n                            <button className='btn btn-outline-success' onClick={()=>setIsDataUpdateOpen(true)} >Update</button>\n\n                        </div>\n                  \n                  :\n\n                      <div className=\"freelancer-details-update\">\n\n                            <span>\n                              <label htmlFor=\"mySkills\"><h4>My Skills</h4></label>\n                              <input type=\"text\" className='form-control' id='mySkills' placeholder='Enter skills' value={updateSkills} onChange={(e)=> setUpdateSkills(e.target.value)}  />\n                            </span>\n\n                            <span>\n                              <label htmlFor=\"description-textarea\"><h4>Description</h4></label>\n                              <textarea className='form-control' id=\"description-textarea\" placeholder='Enter your description' value={updateDescription} onChange={(e)=> setUpdateDescription(e.target.value)}></textarea>\n                            </span>\n\n                            <button className='btn btn-outline-success mt-3' onClick={updateUserData} >Update</button>\n                      </div>\n                }\n\n                  \n              </div>\n\n\n\n          </div>\n      \n      :\"\"}\n    </>\n  )\n}\n\nexport default Freelancer"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}