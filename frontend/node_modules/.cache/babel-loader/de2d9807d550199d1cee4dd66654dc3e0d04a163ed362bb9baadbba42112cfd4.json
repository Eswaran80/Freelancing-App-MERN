{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import'../../styles/freelancer/AllProjects.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AllProjects=()=>{const navigate=useNavigate();const[projects,setProjects]=useState([]);const[displayprojects,setDisplayProjects]=useState([]);const[allSkills,setAllSkills]=useState([]);useEffect(()=>{fetchProjects();},[]);const fetchProjects=async()=>{await axios.get('http://localhost:6001/fetch-projects').then(response=>{setProjects(response.data);setDisplayProjects(response.data.reverse());response.data.map(project=>{project.skills.map(skill=>{if(!allSkills.includes(skill)){allSkills.push(skill);}});});}).catch(err=>{console.log(err);fetchProjects();});};const[categoryFilter,setCategoryFilter]=useState([]);const handleCategoryCheckBox=e=>{const value=e.target.value;if(e.target.checked){setCategoryFilter([...categoryFilter,value]);}else{setCategoryFilter(categoryFilter.filter(size=>size!==value));}};useEffect(()=>{if(categoryFilter.length>0){setDisplayProjects(projects.filter(project=>categoryFilter.every(skill=>project.skills.includes(skill))).reverse());}else{setDisplayProjects(projects.reverse());}},[categoryFilter]);return/*#__PURE__*/_jsx(_Fragment,{children:projects?/*#__PURE__*/_jsxs(\"div\",{className:\"all-projects-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"project-filters\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Filters\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Skills\"}),allSkills.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"filter-options\",children:allSkills.map(skill=>/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",value:skill,id:\"flexCheckDefault\",onChange:handleCategoryCheckBox}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexCheckDefault\",children:skill})]},skill))}):\"\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"projects-list\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"All projects\"}),/*#__PURE__*/_jsx(\"hr\",{}),displayprojects.map(project=>/*#__PURE__*/_jsxs(\"div\",{className:\"listed-project\",onClick:()=>navigate(`/project/${project._id}`),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"listed-project-head\",children:[/*#__PURE__*/_jsx(\"h3\",{children:project.title}),/*#__PURE__*/_jsx(\"p\",{children:String(project.postedDate).slice(0,24)})]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\"Budget \\u20B9 \",project.budget]}),/*#__PURE__*/_jsx(\"p\",{children:project.description}),/*#__PURE__*/_jsx(\"div\",{className:\"skills\",children:project.skills.map(skill=>/*#__PURE__*/_jsx(\"h6\",{children:skill},skill))}),/*#__PURE__*/_jsxs(\"div\",{className:\"bids-data\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[project.bids.length,\" bids\"]}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"\\u20B9 \",project.bids.length>0?project.bidAmounts.reduce((accumulator,currentValue)=>accumulator+currentValue,0):0,\" (avg bid)\"]})]}),/*#__PURE__*/_jsx(\"hr\",{})]},project._id))]})]}):\"\"});};export default AllProjects;","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AllProjects","navigate","projects","setProjects","displayprojects","setDisplayProjects","allSkills","setAllSkills","fetchProjects","get","then","response","data","reverse","map","project","skills","skill","includes","push","catch","err","console","log","categoryFilter","setCategoryFilter","handleCategoryCheckBox","e","value","target","checked","filter","size","length","every","children","className","type","id","onChange","htmlFor","onClick","_id","title","String","postedDate","slice","budget","description","bids","bidAmounts","reduce","accumulator","currentValue"],"sources":["C:/Users/eswar/Music/NM-FREELANCING APP/frontend/src/pages/freelancer/AllProjects.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport {useNavigate} from 'react-router-dom'\nimport '../../styles/freelancer/AllProjects.css' \n\nconst AllProjects = () => {\n\n  const navigate = useNavigate();\n\n  const [projects, setProjects] = useState([]);\n\n  const [displayprojects, setDisplayProjects] = useState([]);\n\n  const [allSkills, setAllSkills] = useState([]); \n\n  useEffect(()=>{\n    fetchProjects();\n  },[])\n\n  const fetchProjects = async()=>{\n    await axios.get('http://localhost:6001/fetch-projects').then(\n      (response)=>{\n          setProjects(response.data);\n          setDisplayProjects(response.data.reverse());\n\n          response.data.map((project)=>{\n            project.skills.map((skill)=>{\n              if(!allSkills.includes(skill)){\n                allSkills.push(skill); \n              }\n            })\n          })\n      }\n    ).catch((err)=>{\n      console.log(err);\n      fetchProjects();\n    })\n  }\n\n\n  const [categoryFilter, setCategoryFilter] = useState([]);\n\n  const handleCategoryCheckBox = (e) =>{\n    const value = e.target.value;\n    if(e.target.checked){\n      setCategoryFilter([...categoryFilter, value]);\n    }else{\n        setCategoryFilter(categoryFilter.filter(size=> size !== value));\n    }\n  }\n\n  useEffect(()=>{\n\n\n    if (categoryFilter.length > 0){\n        setDisplayProjects(projects.filter(project => categoryFilter.every(skill => project.skills.includes(skill))).reverse());\n    }else{\n        setDisplayProjects(projects.reverse());\n    }\n\n\n}, [categoryFilter])\n\n\n  return (\n\n    <>\n      {projects ?\n      \n          <div className=\"all-projects-page\">\n\n            \n\n            <div className=\"project-filters\">\n\n              <h3>Filters</h3>\n              <hr />\n\n              <div className=\"filters\">\n                <h5>Skills</h5>\n\n                {allSkills.length > 0 ? \n                \n                    <div className=\"filter-options\">\n\n                        {allSkills.map((skill)=>(\n                          <div className=\"form-check\" key={skill}>\n                            <input className=\"form-check-input\" type=\"checkbox\" value={skill} id=\"flexCheckDefault\" onChange={handleCategoryCheckBox} />\n                            <label className=\"form-check-label\" htmlFor=\"flexCheckDefault\">{skill}</label>\n                          </div>\n                        ))}\n\n                    </div>\n                :\"\"}\n              </div>\n\n            </div>\n\n            <div className=\"projects-list\">\n\n              <h3>All projects</h3>\n              <hr />\n\n              {displayprojects.map((project)=>(\n\n                  <div className=\"listed-project\" key={project._id} onClick={()=> navigate(`/project/${project._id}`)} >\n                    <div className='listed-project-head'>\n                        <h3>{project.title}</h3>\n                        <p>{String(project.postedDate).slice(0,24)}</p>\n                    </div>\n                    <h5>Budget &#8377; {project.budget}</h5>\n                    <p>{project.description}</p>\n                    <div className=\"skills\">\n                      {\n                        project.skills.map((skill)=>(\n                          <h6 key={skill} >{skill}</h6>\n                        ))\n                      }\n                    </div>\n\n                    <div className=\"bids-data\">\n                      <p>{project.bids.length} bids</p>\n                      <h6>&#8377; {project.bids.length > 0 ? project.bidAmounts.reduce((accumulator, currentValue) => accumulator + currentValue, 0) : 0} (avg bid)</h6>\n                    </div>\n                    <hr />\n                  </div>\n              ))}\n\n\n            </div>\n\n          </div>\n      :\"\"}\n    </>\n  )\n}\n\nexport default AllProjects"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}